{% extends "shop/catalog/product-add2cart.html" %}
{% load i18n %}

{% block add-product-to-cart-table %}
<table shop-add-to-cart="{{ product.get_absolute_url }}/add-clothes-to-cart" class="table">
	<thead>
		<tr>
			<th>{% trans "Size" %}</th>
			<th>{% trans "Quantity" %}</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<select class="form-control" ng-model="context.product_size" ng-change="updateContext()" style="width: 5em;">
	{% for product_variant in product.variants.all %}
					<option value="{{ product_variant.product_size }}">
						{{ product_variant.product_size }}
					</option>
	{% endfor %}
				</select>
			</td>
			<td>
				<div class="form-group">
					<input class="form-control" type="number" min="1" ng-model="context.quantity" ng-model-options="{{ ADD2CART_NG_MODEL_OPTIONS }}" ng-change="updateContext()" />
				</div>
			</td>
		</tr>
		{% if request.session.is_empty %}
		<tr>
			<th>{% trans "Unit Price" %}</th>
			<th>{% trans "Subtotal" %}</th>
			<tr>
				<td ng-bind="context.unit_price"></td>
				<td ng-bind="context.subtotal"></td>
			</tr>
		</tr>
		{% endif %}
		<tr>
			{% if product.availability != 'not_available' %}
			<td colspan="2">
				<button class="btn btn-primary btn-block" ng-click="addToCart('{% url 'shop:cart-list' %}')">{% trans "Add to cart" %}</button>
			</td>
			{% else%}
			<td colspan="2">
				<button class="btn btn-primary btn-block disabled">{% trans "Add to cart" %}</button>
			</td>
			{% endif %}
		</tr>
	</tbody>
</table>
{% endblock add-product-to-cart-table %}
